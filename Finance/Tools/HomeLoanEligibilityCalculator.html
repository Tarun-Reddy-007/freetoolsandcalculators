<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FreeOnlineCalculators</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8237022176069616" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="HomeLoanEligibilityCalculator.css" />
</head>
<body>
  <div class="layout-shell">
  <header class="top-banner"></header>
  <nav class="navbar">
    <div class="nav-links"><a href="../../index.html">FreeToolsandCalculators.com</a></div>
    <div class="nav-links" id="navLinks">
      <a href="../../index.html">Home</a>
      <a href="../../Health/Health.html">Health</a>
      <a href="../../Fitness/Fitness.html">Fitness</a>
      <a href="../../Sports/Sports.html">Sports</a>
      <a href="../../Clothing/Clothing.html">Clothing</a>
      <a href="../Finance.html">Finance</a>
      <a href="../../Utilities/Utilities.html">Utilities</a>
      <a href="../../Education/Education.html">Education</a>
      <a href="../../Media/Media.html">Media</a>
    </div>
    <div class="hamburger" onclick="toggleMenu()">&#9776;</div>
  </nav>

  <div class="content-row">
    <aside class="left-banner"></aside>
    <section class="scroll-panel">
      <div class="hle-tool-section">
      <div class="hle-card">
        <div class="hle-title-row">
          <h1 class="hle-title">Home Loan Eligibility Calculator</h1>
          <button type="button" class="hle-info-trigger" aria-describedby="hleInfo" title="About Eligibility" tabindex="0">i</button>
          <div class="hle-info-flyout" id="hleInfo" role="tooltip" aria-hidden="true">
            <h2>How Eligibility is Estimated</h2>
            <p>Lenders approximate maximum home loan by looking at your gross monthly income, existing debt obligations, target back-end DTI (Debt-to-Income) ratio, interest rate and tenure.</p>
            <ul>
              <li><b>Income:</b> Gross monthly pre-tax.</li>
              <li><b>Existing Debt:</b> Monthly payments (loans, credit cards).</li>
              <li><b>DTI:</b> (Existing Debt + New EMI) / Gross Income.</li>
              <li><b>Rule:</b> Target DTI ratio must not exceed chosen threshold.</li>
              <li><b>EMI Formula:</b> P = EMI * ((1+r)^n -1) / (r (1+r)^n)</li>
            </ul>
            <p class="hle-disclaimer">Indicative calculation. Actual approval depends on credit score, property valuation, lending policies & local regulations.</p>
          </div>
        </div>
        <div class="hle-interaction-row">
          <form id="hleForm" class="hle-form">
            <div class="input-group">
              <label for="currency">Currency</label>
              <div class="input-row">
                <select id="currency">
                  <option value="USD">USD</option>
                  <option value="EUR">EUR</option>
                  <option value="GBP">GBP</option>
                  <option value="INR">INR</option>
                </select>
              </div>
            </div>
            <div class="input-group">
              <label for="grossIncome">Gross Monthly Income</label>
              <div class="input-row">
                <input type="number" id="grossIncome" min="0" step="any" placeholder="e.g. 6000" required />
              </div>
            </div>
            <div class="input-group">
              <label for="existingDebt">Existing Monthly Debt Payments</label>
              <div class="input-row">
                <input type="number" id="existingDebt" min="0" step="any" placeholder="e.g. 500" required />
              </div>
            </div>
            <div class="input-group">
              <label for="targetDTI">Target Max DTI %</label>
              <div class="input-row">
                <input type="number" id="targetDTI" min="10" max="70" step="0.1" value="43" required />
              </div>
              <div class="hle-inline-note">Common underwriting back-end DTI thresholds: 36%, 43%, 50%</div>
            </div>
            <div class="input-group">
              <label for="interestRate">Annual Interest Rate (%)</label>
              <div class="input-row">
                <input type="number" id="interestRate" min="0.1" max="25" step="0.01" placeholder="e.g. 6.75" required />
              </div>
            </div>
            <div class="input-group">
              <label for="tenureYears">Loan Tenure (Years)</label>
              <div class="input-row">
                <input type="number" id="tenureYears" min="1" max="40" step="1" value="30" required />
              </div>
            </div>
            <div class="input-group">
              <label>Buffer Adjustments (Optional)</label>
              <div class="ratio-buttons" id="bufferButtons">
                <button type="button" data-buff="0" class="active">0%</button>
                <button type="button" data-buff="-5">-5%</button>
                <button type="button" data-buff="-10">-10%</button>
                <button type="button" data-buff="5">+5%</button>
              </div>
              <div class="hle-inline-note">Stress / negotiation adjustment to eligible loan amount.</div>
            </div>
            <div class="input-group">
              <label for="downPayment">Planned Down Payment (Optional)</label>
              <div class="input-row">
                <input type="number" id="downPayment" min="0" step="any" placeholder="e.g. 40000" />
              </div>
              <div class="hle-inline-note">Subtracted from property price you can target.</div>
            </div>
            <button type="submit" class="hle-btn">Estimate Eligibility</button>
          </form>
          <div class="hle-result-container" id="hleResultContainer" style="display:none;">
            <div class="hle-primary-result">
              <span class="hle-value" id="hleValue">--</span>
              <span class="hle-label">Max Loan Amount</span>
            </div>
            <div class="hle-progress-wrapper">
              <div class="hle-progress-bar"><div class="hle-progress" id="hleProgress"></div></div>
              <div class="hle-scale"><span>Lower</span><span>Higher</span></div>
            </div>
            <div class="hle-breakdown" id="hleBreakdown"></div>
            <div class="hle-extra-stats" id="hleExtraStats"></div>
            <div class="hle-tips" id="hleTips"></div>
            <div class="hle-disclaimer-box">Taxes, insurance, HOA dues & credit factors not included.</div>
          </div>
        </div>
      </div>
      </div>
    </section>
  </div>

  <footer class="bottom-banner"></footer>
  </div>

  <script>
    function toggleMenu(){ document.getElementById('navLinks').classList.toggle('active'); }
    const hleForm = document.getElementById('hleForm');
    const hleResultContainer = document.getElementById('hleResultContainer');
    const hleValueEl = document.getElementById('hleValue');
    const hleProgress = document.getElementById('hleProgress');
    const hleBreakdown = document.getElementById('hleBreakdown');
    const hleExtraStats = document.getElementById('hleExtraStats');
    const hleTips = document.getElementById('hleTips');
    const bufferButtons = document.getElementById('bufferButtons');
    let bufferAdjust = 0; bufferButtons.addEventListener('click', e=>{ if(e.target.tagName==='BUTTON'){ bufferAdjust = parseFloat(e.target.dataset.buff); [...bufferButtons.querySelectorAll('button')].forEach(b=>b.classList.toggle('active', b===e.target)); }});

    function currencySymbol(c){ switch(c){ case 'USD': return '$'; case 'EUR': return '€'; case 'GBP': return '£'; case 'INR': return '₹'; default: return c+' '; } }
    function fm(v,c){ return currencySymbol(c) + Number(v).toLocaleString(undefined,{minimumFractionDigits:2, maximumFractionDigits:2}); }

    function loanFromEmi(emi, annualRate, months){ const r = annualRate/12/100; if(r===0) return emi*months; const pow = Math.pow(1+r, months); return emi * (pow - 1)/(r*pow); }
    function emiFromLoan(P, annualRate, months){ const r = annualRate/12/100; if(r===0) return P/months; const pow = Math.pow(1+r, months); return P * r * pow / (pow -1); }

    hleForm.addEventListener('submit', e=>{
      e.preventDefault();
      const currency = document.getElementById('currency').value;
      const grossIncome = parseFloat(document.getElementById('grossIncome').value);
      const existingDebt = parseFloat(document.getElementById('existingDebt').value);
      const targetDTI = parseFloat(document.getElementById('targetDTI').value)/100; // ratio
      const annualRate = parseFloat(document.getElementById('interestRate').value);
      const tenureYears = parseInt(document.getElementById('tenureYears').value,10);
      const downPayment = parseFloat(document.getElementById('downPayment').value)||0;
      if(!grossIncome || !annualRate || !tenureYears){ hleResultContainer.style.display='none'; hleResultContainer.classList.remove('show'); return; }

      // Maximum monthly housing portion allowed
      const maxTotalDebtAllowed = grossIncome * targetDTI; // existing + new EMI <= this
      const maxNewEmi = Math.max(0, maxTotalDebtAllowed - existingDebt);
      const months = tenureYears * 12;
      let baseLoan = loanFromEmi(maxNewEmi, annualRate, months);
      // Apply buffer adjustment percent to loan
      if(bufferAdjust !== 0){ baseLoan = baseLoan * (1 + bufferAdjust/100); }
      const propertyPriceTarget = baseLoan + downPayment;

      hleValueEl.textContent = fm(baseLoan, currency);

      // Progress heuristic (map loan 50k - 1.5M equivalently) adjust for currency by simple scaling for INR
      const scaleFactor = currency==='INR'? 0.012 : 1; // crude normalization
      const normLoan = baseLoan * scaleFactor; const min=50000, max=1500000; const clamped = Math.min(max, Math.max(min, normLoan));
      const percent = ((clamped - min)/(max-min))*100; hleProgress.style.width = percent + '%';
      hleProgress.style.background = percent < 33 ? '#2196f3' : percent < 66 ? '#4caf50' : '#ff9800';

      // Breakdown
      hleBreakdown.innerHTML='';
      const breakdownRows = [
        ['Gross Monthly Income', fm(grossIncome, currency)],
        ['Existing Monthly Debt', fm(existingDebt, currency)],
        ['Target DTI %', (targetDTI*100).toFixed(2)+'%'],
        ['Max New EMI', fm(maxNewEmi, currency)],
        ['Interest Rate (Annual)', annualRate.toFixed(2)+'%'],
        ['Tenure', tenureYears + ' yrs ('+months+' mo)'],
        ['Buffer Adj', bufferAdjust===0? '—' : (bufferAdjust>0? '+'+bufferAdjust+'%': bufferAdjust+'%')],
        ['Down Payment', downPayment? fm(downPayment, currency):'—'],
        ['Target Property Price', fm(propertyPriceTarget, currency)]
      ];
      breakdownRows.forEach(r=>{ const d=document.createElement('div'); d.className='hle-breakdown-row'; d.innerHTML=`<span>${r[0]}</span><span class="value">${r[1]}</span>`; hleBreakdown.appendChild(d); });

      // Extra stats
      hleExtraStats.innerHTML='';
      const resultingDTI = (existingDebt + maxNewEmi)/grossIncome * 100;
      const emiToIncome = maxNewEmi / grossIncome * 100;
      const interestPaidTotal = emiFromLoan(baseLoan, annualRate, months)*months - baseLoan; // assuming constant EMI
      const stats = [
        { label:'Resulting DTI', val: resultingDTI.toFixed(1)+'%' },
        { label:'EMI / Income', val: emiToIncome.toFixed(1)+'%' },
        { label:'Monthly EMI', val: fm(maxNewEmi, currency) },
        { label:'Total Interest', val: fm(interestPaidTotal, currency) },
        { label:'Property Price', val: fm(propertyPriceTarget, currency) }
      ];
      stats.forEach(s=>{ const el=document.createElement('div'); el.className='hle-stat'; el.innerHTML=`<span class="label">${s.label}</span><span class="val">${s.val}</span>`; hleExtraStats.appendChild(el); });

      // Tips
      let tip = 'Aim to keep total DTI under your market\'s accepted threshold.';
      if(resultingDTI > targetDTI*100) tip = 'Existing debt load leaves little room. Reduce obligations or choose lower tenure.';
      else if(emiToIncome > 35) tip = 'High EMI share. Consider longer tenure or larger down payment.';
      else tip += ' You have a balanced EMI to income ratio.';
      if(bufferAdjust < 0) tip += ' Negative buffer provides a conservative safety margin.';
      hleTips.textContent = tip;

      hleResultContainer.style.display='flex';
      setTimeout(()=>{ hleResultContainer.classList.add('show'); hleResultContainer.scrollIntoView({behavior:'smooth', block:'center'}); }, 50);
    });
  </script>
</body>
</html>
